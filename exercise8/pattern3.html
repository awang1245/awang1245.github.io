<!DOCTYPE html>
<!--document type declaration-->
<html>
  <head>
    <!-- a container for metadata -->
    <meta charset="utf-8" />
    <!--charset: character encoding capable of encoding all characters on the web  -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <!--for browser compatibility: choose rendering engine to view the page in an correct view (for old ver. IE)  -->
    <title>Exercise 8: Patterns</title>
    <!--declaring the title, or name, of the HTML document. displayed in the browser's title bar-->
    <meta name="description" content="" />
    <!--keywords/snippet for search engines-->
    <meta name="viewport" content="width=device-width" />
    <!--the browser will (probably) render the width of the page at the width of its own screen -->
    <link rel="stylesheet" href="./styles/index.css" />
    <link rel="stylesheet" href="./styles/pattern3.css" />
    <link rel="stylesheet" href="./styles/typography.css" />
  </head>
  <body>
    <!--all the contents of an HTML document goes here-->
    <nav>
      <a href="./index.html" class="nav-button">PATTERNS</a>
      <div class="nav-list">
        <a href="./pattern2.html" class="animation-button-left">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-narrow-left"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path d="M5 12l14 0" />
            <path d="M5 12l4 4" />
            <path d="M5 12l4 -4" />
          </svg>
          <p>02</p>
        </a>
        <a href="./pattern1.html" class="animation-button-right"
          ><p>01</p>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-narrow-right"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path d="M5 12l14 0" />
            <path d="M15 16l4 -4" />
            <path d="M15 8l4 4" />
          </svg>
        </a>
      </div>
    </nav>
    <main class="pattern3">
      <p>Here's a flower for you! It changes colors on refresh :D</p>
      <div class="grid"></div>
      <div class="stem"></div>
    </main>
  </body>
  <script>
    const grid = document.querySelector(".grid");
    const size = 7;

    // pick a random base color + lightness on each load
    const hue = Math.floor(Math.random() * 360);
    const saturation = 100; // to maximize visibility
    const lightness = 30 + Math.random() * 40;

    // get center of the pixel grid
    const center = Math.floor(size / 2);
    // get diagonal of each pixel cell
    const maxDist = Math.hypot(center, center);

    for (let y = 0; y < size; y++) {
      for (let x = 0; x < size; x++) {
        // create div per pixel cel
        const cell = document.createElement("div");
        cell.className = "cell";

        // find distance from center
        const dx = x - center;
        const dy = y - center;
        const dist = Math.hypot(dx, dy);

        // fade outward from center based on distance
        const opacity = 1 - dist / maxDist;

        cell.style.backgroundColor = `hsl(${hue}, ${saturation}%, ${lightness}%)`;
        cell.style.opacity = opacity;

        grid.appendChild(cell);
      }
    }
  </script>
</html>
